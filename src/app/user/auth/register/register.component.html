<div class="register-container">
  <h2>Register</h2>

  <form #registerForm="ngForm" (ngSubmit)="register(registerForm)">

    <!-- Name -->
    <div class="form-group">
      <label>Name</label>
      <input
        type="text"
        name="name"
        [(ngModel)]="name"
        required
        minlength="3"
        placeholder="Enter your name">

      <div class="error" *ngIf="submitted && registerForm.controls['name']?.invalid">
        Name is required (min 3 characters)
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        name="email"
        [(ngModel)]="email"
        required
        placeholder="Enter your email">

      <div class="error" *ngIf="submitted && registerForm.controls['email']?.invalid">
        Valid email is required
      </div>
    </div>

    <!-- âœ… Role Selection -->
    <div class="form-group">
      <label>Register As</label>
      <select
        name="role"
        [(ngModel)]="role"
        required>

        <option value="" disabled selected>Select Role</option>
        <option value="user">User</option>
        <option value="admin">Admin</option>
      </select>

      <div class="error" *ngIf="submitted && registerForm.controls['role']?.invalid">
        Please select a role
      </div>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        name="password"
        [(ngModel)]="password"
        required
        minlength="6"
        placeholder="Enter password">

      <div class="error" *ngIf="submitted && registerForm.controls['password']?.invalid">
        Password is required (min 6 characters)
      </div>
    </div>

    <!-- Confirm Password -->
    <div class="form-group">
      <label>Confirm Password</label>
      <input
        type="password"
        name="confirmPassword"
        [(ngModel)]="confirmPassword"
        required
        placeholder="Confirm password">

      <div class="error" *ngIf="submitted && password !== confirmPassword">
        Passwords do not match
      </div>
    </div>

    <!-- Submit -->
    <button type="submit">Register</button>
  </form>

  <p>
    Already have an account?
    <a routerLink="/login">Login here</a>
  </p>
</div>
